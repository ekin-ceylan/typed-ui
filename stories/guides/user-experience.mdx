import { Meta, Markdown } from '@storybook/addon-docs/blocks';

<Meta title="Guides/Kullanıcı Deneyimi" />

# Kullanıcı Deneyimi (UX)

Bu doküman, bileşenlerin “nasıl görünür”ünden çok **nasıl hissettirmesi gerektiğini** (davranış, geri bildirim, hata durumları, klavye akışı) tarif eder. Amaç: bileşenler arasında tutarlılık ve öngörülebilir etkileşim.

## Genel Prensipler

- **Öngörülebilirlik:** Aynı durum, tüm bileşenlerde aynı tepkiyi vermeli (örn. invalid state, disabled state, helper text).
- **Hata mesajı spam’leme:** Kullanıcı yazarken sürekli hata göstermemek; hata oluştuysa düzeltme sırasında anlık geri bildirim vermek.
- **Odak yönetimi:** Klavye ile kullanımda odak “kaybolmamalı”; açılır menülerde odak davranışı tutarlı olmalı.
- **Erişilebilirlik:** Klavye ile tam kullanım + ekran okuyucu uyumu, UX’in parçasıdır.
- **Boş durumlar:** “Seçenek yok”, “sonuç bulunamadı” gibi durumlar açık bir metinle anlatılmalı.

## Validasyon Davranışı (Form Alanları)

### Ne zaman validate edilir?

Hedef davranış:

1. **İlk etkileşim sırasında (typing)**
    - Kullanıcı yazarken _varsayılan olarak_ hata mesajı gösterilmez (agresif validasyon yok).
2. **Kullanıcı alanı terk ettiğinde (blur / submit)**
    - Validasyon çalışır; invalid ise hata mesajı gösterilir.
3. **Alan bir kez invalid olduktan sonra**
    - Kullanıcı düzeltme yaparken **her input’ta** validasyon tekrar çalışır ve mesaj güncellenir.
    - Alan tekrar valid olduğunda hata durumu kalkar.

Bu yaklaşım:

- Yazma esnasında “kırmızı hata” gürültüsünü azaltır.
- Kullanıcı düzeltme yaparken hızlı geri bildirim sağlar.

### Hata mesajı dili

- Net, kısa, eyleme dönük olmalı.
- Tercihen: “Ne yanlış?” + “Ne bekleniyor?”
- Örnek:
    - “Plaka geçersiz. Örnek format: 34 ABC 123”
    - “Bu alan zorunludur.”

### Submit davranışı

- Submit anında invalid alan(lar) belirginleşir.
- İlk invalid alana odaklanmak (veya en azından görünür kılmak) tercih edilir.

## Input Mask / Formatlama (örn. PlateBox)

- Kullanıcı yazarken **karakter ekleme/formatlama** tahmin edilebilir olmalı.
- Otomatik formatlama (boşluk ekleme, büyük harfe çevirme) kullanıcıyı şaşırtmamalı:
    - **Caret (imleç) pozisyonu** mümkün olduğunca korunmalı.
    - Kopyala-yapıştır akışında formatlama tutarlı çalışmalı.
- Formatlama ayrı, validasyon ayrı ele alınmalı:
    - Mask “görüntü” düzenler.
    - Validasyon “kabul edilebilir mi?” sorusunu yanıtlar.

## Yardımcı Metin, Hata Metni, Başlık (Label)

- `label` kullanıcıya “bu alan nedir?”i söyler.
- Helper text “nasıl doldururum?”u söyler.
- Error text “neden olmadı?”yı söyler.
- Hata mesajı görünürken helper text:
    - Ya gizlenir,
    - Ya da ikisi birlikte gösterilecekse hiyerarşi net olmalı (error öncelikli).

## Disabled / Readonly / Required

- **disabled:** etkileşim yok, odak almamalı, form submit’inde değer gönderimi beklentisi net olmalı.
- **readonly:** odak alabilir ama değiştirilemez (tasarım gereği kullanılacaksa davranışı tutarlı olmalı).
- **required:** kullanıcıya erken “zorunlu” sinyali (örn. label yanında) verilebilir; hata ise blur/submit’te.

## Clear (Temizle) Davranışı

- Clear butonu yalnızca anlamlı olduğunda görünmeli (seçim/değer varsa).
- Clear sonrası:
    - Odak kaybolmamalı (bileşen/trigger üzerinde kalmalı).
    - Eğer alan required ise “temizle”nin görünürlüğü/izin verilebilirliği net olmalı (bazı bileşenlerde kapatılabilir).

## Select / ComboBox Davranışı (Kısa Kılavuz)

- Az seçenek: `select-box`
- Çok seçenek / arama ihtiyacı: `combo-box`
- “Seçenek yok” durumunda:
    - Kullanıcıya net mesaj: `no-options-label` benzeri.
- Filtreleme:
    - Kullanıcı yazdıkça sonuç güncellenir.
    - Sonuç yoksa “Sonuç bulunamadı” benzeri durum gösterilir.

## Klavye ile Kullanım (Genel)

- `Tab` sırası mantıklı olmalı (label → input/trigger → varsa clear).
- Açılır menülerde:
    - `ArrowUp/ArrowDown` gezinme
    - `Enter` seçim
    - `Escape` kapatma
    - “Native davranış” gibi alternatif modlar varsa açıkça dokümante edilmeli.

## Boş / Yükleniyor / Hata Durumları

- Boş durum: kullanıcı “ne yapmalı?”yı anlayabilmeli.
- Yükleniyor: etkileşim kilitleniyorsa nedenini hissettirmeli (spinner/skeleton).
- Async hata: tekrar dene aksiyonu veya açıklayıcı mesaj.

## Metin, Dil ve Lokalizasyon

- Metinler kısa, tutarlı, yerelleştirilebilir olmalı.
- Büyük/küçük harf dönüşümleri (örn. `tr-TR`) bilinçli uygulanmalı.
- Tarih/sayı formatları locale’a saygılı olmalı.

## Test Edilecek UX Senaryoları (Checklist)

- Yazma / silme / yapıştırma
- İmleç (caret) hareketi ve seçili alanla yazma
- Blur/submit sonrası validasyon
- Invalid → düzeltme akışında anlık validasyon
- Klavye ile tam kullanım
- Ekran okuyucu ile temel anonslar (label, error, expanded/collapsed)
